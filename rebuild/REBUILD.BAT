@ECHO OFF
:SET_ENVIRONMENT
SET HELPFILES=C:\C600\HELP\*.HLP
SET INCLUDE=C:\C600\INCLUDE;C:\WINDEV\INCLUDE;
SET LIB=C:\C600\LIB;C:\WINDEV\LIB
SET PATH=C:\C600\BINB;C:\C600\BIN;C:\WINDEV;C:\;C:\WINDOWS
SET TEMP=C:\WINDOWS\TEMP
SET TMP=C:\WINDOWS\TEMP
:PRE_POST_CLEANUP
ECHO Pre Cleanup of Post Cleanup
DEL .\INCLUDE\WINEXT.H >NUL
RMDIR .\INCLUDE >NUL
DEL HYPEROID.C >NUL
DEL HYPEROID.DEF >NUL
DEL HYPEROID.H >NUL
DEL HYPEROID.RC >NUL
DEL ROIDSUPP.C >NUL
:PRE_CLEANUP
ECHO Pre Cleanup
DEL HYPEROID.ASM >NUL
DEL HYPEROID.COD >NUL
REN HYPEROID.EXE HYPEROID.BAK >NUL
DEL HYPEROID.HDR >NUL
DEL HYPEROID.LST >NUL
DEL HYPEROID.MAP >NUL
DEL HYPEROID.OBJ >NUL
DEL HYPEROID.RES >NUL
DEL REBUILD.LOG >NUL
DEL ROIDSUPP.ASM >NUL
DEL ROIDSUPP.COD >NUL
DEL ROIDSUPP.LST >NUL
DEL ROIDSUPP.OBJ >NUL
:PRE_INIT
ECHO Pre Init
MKDIR .\INCLUDE >NUL
COPY ..\HYPEROID\WINEXT.H .\INCLUDE >NUL
COPY ..\HYPEROID\HYPEROID.C . >NUL
COPY ..\HYPEROID\HYPEROID.DEF . >NUL
COPY ..\HYPEROID\HYPEROID.H . >NUL
COPY ..\HYPEROID\HYPEROID.RC . >NUL
COPY ..\HYPEROID\ROIDSUPP.C . >NUL
:BUILD
ECHO CL
CL /nologo /c /Fl /Fs /AM /W3 /Ze /O /Ol /Gs /DNDEBUG /I".\INCLUDE" HYPEROID.C ROIDSUPP.C 2>&1 >> REBUILD.LOG
ECHO RC Step 1/2
RC -i"..\HYPEROID" -r HYPEROID.RC >> REBUILD.LOG
ECHO LINK
LINK /NOD /A:16 /INF /M /CP:0xffff /SE:0x80 /ST:0x2000 HYPEROID ROIDSUPP,HYPEROID,HYPEROID,MLIBCEW LIBW,HYPEROID >> REBUILD.LOG
ECHO RC Step 2/2
RC HYPEROID.RES >> REBUILD.LOG
ECHO EXEHDR
EXEHDR /VERBOSE HYPEROID.EXE > HYPEROID.HDR
:POST_CLEANUP
ECHO Post Cleanup
DEL .\INCLUDE\WINEXT.H >NUL
RMDIR .\INCLUDE >NUL
DEL HYPEROID.C >NUL
DEL HYPEROID.DEF >NUL
DEL HYPEROID.H >NUL
DEL HYPEROID.RC >NUL
DEL ROIDSUPP.C >NUL
:DONE
ECHO Done
